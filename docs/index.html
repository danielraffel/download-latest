<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>download-latest — One-click GitHub release downloads</title>
  <meta name="description" content="Add a download button that auto-detects your visitor's OS and links to the latest binary from your GitHub releases. One script tag, no dependencies.">
  <meta property="og:title" content="download-latest">
  <meta property="og:description" content="Add a download button that auto-detects your visitor's OS and links to the latest binary from your GitHub releases. One script tag, no dependencies.">
  <meta property="og:image" content="https://raw.githubusercontent.com/danielraffel/download-latest/main/image.png">
  <meta property="og:url" content="https://www.generouscorp.com/download-latest/">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="download-latest">
  <meta name="twitter:description" content="Add a download button that auto-detects your visitor's OS and links to the latest binary from your GitHub releases. One script tag, no dependencies.">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/danielraffel/download-latest/main/image.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">

    <header>
      <h1>download-latest</h1>
      <p>Add a download button that auto-detects your visitor's OS and links to the latest binary from your GitHub releases. One script tag, no dependencies.</p>
      <div class="links">
        <a href="https://github.com/danielraffel/download-latest">GitHub</a>
        <a href="#examples">Examples</a>
        <a href="#quick-start">Quick Start</a>
      </div>
    </header>

    <!-- Configurator -->
    <section id="configurator">
      <h2>Configurator</h2>
      <div class="configurator">

        <div class="field">
          <label for="cfg-repo">GitHub Repo</label>
          <div style="display:flex; gap:8px">
            <div class="input-group">
              <span class="input-prefix">https://github.com/</span>
              <input type="text" id="cfg-repo" placeholder="owner/repo" value="rustdesk/rustdesk">
            </div>
            <button id="cfg-test" style="padding:8px 16px; background:var(--accent); color:var(--bg); border:none; border-radius:var(--radius); cursor:pointer; font-size:14px; white-space:nowrap;">Test</button>
          </div>
          <div id="cfg-assets" class="assets-found"></div>
        </div>

        <div class="field">
          <label>Mode</label>
          <div class="radio-group mode-chips">
            <label title="Creates a styled download button"><input type="radio" name="cfg-mode" value="button" checked> Button</label>
            <label title="Attaches to your own button/link and sets its href + text"><input type="radio" name="cfg-mode" value="custom"> Bind element</label>
            <label title="Immediately starts the download (no button shown)"><input type="radio" name="cfg-mode" value="auto"> Auto-redirect</label>
            <label title="Returns the detected download URL for use in your own code"><input type="radio" name="cfg-mode" value="url"> URL only</label>
            <label title="Shows every downloadable file from the release"><input type="radio" name="cfg-mode" value="fallback"> All assets</label>
            <label title="Link to one specific file by regex pattern — bypasses OS detection (e.g., always link to the .ipa)"><input type="radio" name="cfg-mode" value="pattern"> Specific file</label>
          </div>
        </div>

        <div class="field" id="cfg-pattern-platform-field" style="display:none">
          <label for="cfg-pattern-platform">Target platform</label>
          <select id="cfg-pattern-platform">
            <option value="">Pick a platform…</option>
            <option value="macos-arm64">macOS — Apple Silicon (.dmg)</option>
            <option value="macos-x64">macOS — Intel (.dmg)</option>
            <option value="windows-x64">Windows — Intel (.exe)</option>
            <option value="windows-arm64">Windows — ARM (.exe)</option>
            <option value="linux-x64">Linux — x64 (.deb / .AppImage)</option>
            <option value="linux-arm64">Linux — ARM64 (.deb / .AppImage)</option>
            <option value="ios-arm64">iOS (.ipa)</option>
            <option value="android-arm64">Android (.apk)</option>
            <option value="custom">Custom pattern…</option>
          </select>
          <span class="field-hint">All visitors see the same download button regardless of their OS. Choose which build to link to.</span>
        </div>

        <details class="collapsible advanced-section" id="cfg-advanced">
          <summary>Advanced</summary>
          <div class="fields">
            <div class="field" id="cfg-adv-pattern-field">
              <label for="cfg-adv-pattern">File name pattern (regex)</label>
              <input type="text" id="cfg-adv-pattern" placeholder="e.g. \.ipa$ or rustdesk.*arm64\.apk$" value="">
              <span class="field-hint">Regex matched against all release asset names — ignores visitor's OS/arch. First match wins.</span>
            </div>
            <div class="field" id="cfg-adv-text-field">
              <label for="cfg-adv-text">Button text</label>
              <input type="text" id="cfg-adv-text" placeholder="Download for {os}" value="">
              <span class="field-hint">Use <code>{os}</code>, <code>{arch}</code>, <code>{version}</code></span>
            </div>
            <div class="field-row" id="cfg-adv-style-fields">
              <div class="field">
                <label for="cfg-adv-bg">Background</label>
                <div class="color-input-wrap">
                  <input type="color" id="cfg-adv-bg-picker" value="#ffffff">
                  <input type="text" id="cfg-adv-bg" placeholder="#ffffff" value="">
                </div>
              </div>
              <div class="field">
                <label for="cfg-adv-fg">Text color</label>
                <div class="color-input-wrap">
                  <input type="color" id="cfg-adv-fg-picker" value="#000000">
                  <input type="text" id="cfg-adv-fg" placeholder="#000000" value="">
                </div>
              </div>
              <div class="field">
                <label for="cfg-adv-radius">Radius</label>
                <input type="text" id="cfg-adv-radius" placeholder="8px" value="" style="width:80px">
              </div>
            </div>
            <div class="field" id="cfg-adv-theme-field">
              <label>Theme <a href="https://github.com/danielraffel/download-latest#theming-lightdark-mode" target="_blank" rel="noopener" title="Theming docs" class="info-link"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg></a></label>
              <div class="radio-group">
                <label><input type="radio" name="cfg-theme" value="" checked> Light (default)</label>
                <label><input type="radio" name="cfg-theme" value="auto"> Auto (follows system)</label>
                <label><input type="radio" name="cfg-theme" value="dark"> Dark</label>
              </div>
              <span class="field-hint">Auto adapts to the visitor's light/dark preference via <code>prefers-color-scheme</code></span>
            </div>
            <div class="field" id="cfg-adv-nomatch-field">
              <label for="cfg-adv-nomatch-text">No-match text</label>
              <input type="text" id="cfg-adv-nomatch-text" placeholder="View all downloads" value="">
              <span class="field-hint">Shown when visitor's platform has no matching binary</span>
            </div>
            <div class="field" id="cfg-adv-nomatch-url-field">
              <label for="cfg-adv-nomatch-url">No-match URL</label>
              <input type="text" id="cfg-adv-nomatch-url" placeholder="(defaults to releases page)" value="">
              <span class="field-hint">Where to link when no binary matches (e.g., a waitlist page)</span>
            </div>
            <div class="field" id="cfg-adv-context-menu-field">
              <label class="checkbox-label">
                <input type="checkbox" id="cfg-adv-context-menu">
                Right-click opens releases page
              </label>
              <span class="field-hint">When enabled, right-click / long-press on the button opens the GitHub releases page instead of the browser context menu</span>
            </div>
            <div class="field" id="cfg-adv-selector-field">
              <label class="checkbox-label">
                <input type="checkbox" id="cfg-adv-selector">
                Show platform selector
              </label>
              <span class="field-hint">Adds a dropdown next to the button so visitors can pick a different platform</span>
            </div>
          </div>
        </details>

        <div class="field-row">
          <div class="field">
            <label>Source</label>
            <div class="radio-group">
              <label><input type="radio" name="cfg-source" value="jsdelivr" checked> jsDelivr</label>
              <label><input type="radio" name="cfg-source" value="raw"> Raw GitHub</label>
              <label><input type="radio" name="cfg-source" value="self"> Self-hosted</label>
            </div>
          </div>
          <div class="field">
            <label>Version</label>
            <div class="radio-group">
              <label><input type="radio" name="cfg-version" value="latest" checked> Latest</label>
              <label><input type="radio" name="cfg-version" value="pinned"> Pin to:</label>
            </div>
            <input type="text" id="cfg-version-tag" placeholder="v1.0.0" value="" disabled style="margin-top:6px; width:120px;">
          </div>
        </div>

        <details class="collapsible" id="cfg-overrides">
          <summary>Platforms (optional)</summary>
          <div class="fields">
            <span class="field-hint" style="margin-bottom:12px">Uncheck a platform to exclude it. Add a regex pattern to override the default asset matching.</span>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="macos-arm64" checked> macOS arm64 <span class="arch-hint">(Apple Silicon)</span>
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>aarch64[^/]*\.dmg$</code> — arm64 .dmg only<br><code>(?!.*universal).*arm64.*\.dmg$</code> — skip universal builds<br><code>arm64[^/]*\.pkg$</code> — prefer .pkg installer</span></span>
              </label>
              <input type="text" id="cfg-match-macos-arm64" placeholder="e.g. aarch64\.dmg$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="macos-x64" checked> macOS x64 <span class="arch-hint">(Intel)</span>
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>x86_64[^/]*\.dmg$</code> — Intel .dmg only<br><code>(?!.*universal).*x64.*\.dmg$</code> — skip universal builds<br><code>intel[^/]*\.pkg$</code> — prefer .pkg installer</span></span>
              </label>
              <input type="text" id="cfg-match-macos-x64" placeholder="e.g. x86_64\.dmg$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="windows-x64" checked> Windows x64 <span class="arch-hint">(Intel)</span>
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>(?!.*sciter).*x86_64\.exe$</code> — skip sciter variants<br><code>\.msi$</code> — prefer MSI installers<br><code>(?!.*x86[^_]).*\.exe$</code> — skip 32-bit exe</span></span>
              </label>
              <input type="text" id="cfg-match-windows-x64" placeholder="e.g. x86_64\.exe$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="windows-arm64" checked> Windows arm64 <span class="arch-hint">(ARM)</span>
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>arm64[^/]*\.exe$</code> — ARM .exe only<br><code>arm64[^/]*\.msi$</code> — prefer ARM MSI installer<br><code>(?!.*x86).*arm64.*\.exe$</code> — skip x86 fallbacks</span></span>
              </label>
              <input type="text" id="cfg-match-windows-arm64" placeholder="e.g. arm64\.exe$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="linux-x64" checked> Linux x64 <span class="arch-hint">(Intel / AMD)</span>
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>(?!.*sciter).*x86_64\.deb$</code> — skip sciter variants<br><code>(?!.*suse).*x86_64\.rpm$</code> — skip SUSE RPMs<br><code>x86_64\.AppImage$</code> — prefer AppImage<br><code>(?!.*flatpak).*x86_64\.deb$</code> — skip flatpaks</span></span>
              </label>
              <input type="text" id="cfg-match-linux-x64" placeholder="e.g. amd64\.deb$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="linux-arm64" checked> Linux arm64 <span class="arch-hint">(ARM)</span>
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>aarch64\.deb$</code> — prefer .deb<br><code>aarch64\.AppImage$</code> — prefer AppImage<br><code>(?!.*suse).*aarch64\.rpm$</code> — skip SUSE RPMs</span></span>
              </label>
              <input type="text" id="cfg-match-linux-arm64" placeholder="e.g. aarch64\.deb$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="ios-arm64" checked> iOS
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>\.ipa$</code> — match .ipa files<br><code>(?!.*debug).*\.ipa$</code> — skip debug builds</span></span>
              </label>
              <input type="text" id="cfg-match-ios-arm64" placeholder="e.g. \.ipa$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="android-arm64" checked> Android
                <span class="regex-tip"><svg class="tip-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg><span class="tip-popup">Regex examples to target specific files:<br><code>arm64[^/]*\.apk$</code> — arm64 APK only<br><code>(?!.*armv7|.*universal|.*x86_64).*\.apk$</code> — skip non-arm64<br><code>(?!.*unsigned).*arm64.*\.apk$</code> — skip unsigned builds</span></span>
              </label>
              <input type="text" id="cfg-match-android-arm64" placeholder="e.g. \.apk$">
            </div>
            <div class="field platform-field">
              <label class="checkbox-label"><input type="checkbox" class="cfg-platform-toggle" data-platform="other" checked> Other / unclassified</label>
              <span class="field-hint" style="margin-top:2px">Files not matched to any platform above (e.g., source archives, Arch Linux packages)</span>
            </div>
          </div>
        </details>

        <div class="output-wrap">
          <button id="cfg-copy" class="copy-btn" title="Copy to clipboard">
            <svg class="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
            <svg class="icon-check" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
          </button>
          <pre><code id="cfg-output-code"></code></pre>
        </div>

        <div class="preview" id="cfg-preview"></div>

      </div>
    </section>

    <!-- Quick Start -->
    <section id="quick-start">
      <h2>Quick Start</h2>
      <h3>One script tag</h3>
      <pre><code>&lt;script
  src="https://cdn.jsdelivr.net/gh/danielraffel/download-latest@1.0.0/download-latest.min.js"
  data-repo="your-org/your-app"
&gt;&lt;/script&gt;</code></pre>
      <p>This inserts a download button that links to the right asset for each visitor's platform.</p>

      <h3>Bind to your own button</h3>
      <pre><code>&lt;a id="dl" href="#"&gt;Download&lt;/a&gt;
&lt;script
  src="https://cdn.jsdelivr.net/gh/danielraffel/download-latest@1.0.0/download-latest.min.js"
  data-repo="your-org/your-app"
  data-target="#dl"
&gt;&lt;/script&gt;</code></pre>

      <h3>Programmatic</h3>
      <pre><code>&lt;script src="https://cdn.jsdelivr.net/gh/danielraffel/download-latest@1.0.0/download-latest.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  const dl = new DownloadLatest({ repo: 'your-org/your-app' });
  dl.get().then(r =&gt; console.log(r.url));
&lt;/script&gt;</code></pre>
    </section>

    <!-- Configuration Reference -->
    <section>
      <h2>Configuration</h2>
      <table>
        <thead><tr><th>Attribute</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td><code>data-repo</code></td><td><strong>Required.</strong> GitHub <code>owner/repo</code></td></tr>
          <tr><td><code>data-target</code></td><td>CSS selector of existing element to bind</td></tr>
          <tr><td><code>data-auto</code></td><td>Auto-redirect to download (no button)</td></tr>
          <tr><td><code>data-fallback</code></td><td>Selector for element to fill with all asset links</td></tr>
          <tr><td><code>data-version</code></td><td>Pin to a release tag (e.g., <code>v2.1.0</code>)</td></tr>
          <tr><td><code>data-text</code></td><td>Button text. Use <code>{os}</code>, <code>{arch}</code>, <code>{version}</code></td></tr>
          <tr><td><code>data-no-match-text</code></td><td>Text shown when visitor's platform has no match. Default: <code>View all downloads</code></td></tr>
          <tr><td><code>data-no-match-url</code></td><td>URL when no match (default: releases page). E.g., a waitlist URL</td></tr>
          <tr><td><code>data-selector</code></td><td>CSS selector for element to render platform dropdown into</td></tr>
          <tr><td><code>data-theme</code></td><td>Button theme: <code>auto</code> (follows system), <code>dark</code>, or omit for light</td></tr>
          <tr><td><code>data-pattern</code></td><td>Regex to match a specific file by name, ignoring platform detection (e.g., <code>\.ipa$</code>)</td></tr>
          <tr><td><code>data-context-menu</code></td><td>Enable right-click to open releases page (disabled by default)</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Hosting -->
    <section>
      <h2>Hosting</h2>
      <h3>jsDelivr CDN (recommended)</h3>
      <pre><code>https://cdn.jsdelivr.net/gh/danielraffel/download-latest@1.0.0/download-latest.min.js</code></pre>
      <p>Pin to a version (<code>@1.0.0</code>) or track latest (<code>@main</code>). Free, no setup required — jsDelivr serves any public GitHub repo automatically.</p>

      <h3>Raw GitHub</h3>
      <pre><code>https://raw.githubusercontent.com/danielraffel/download-latest/main/download-latest.min.js</code></pre>

      <h3>Self-hosted</h3>
      <p>Copy <code>download-latest.min.js</code> into your project. Use the configurator above to generate your snippet.</p>
    </section>

    <!-- Examples -->
    <section id="examples">
      <h2>Examples</h2>
      <p>Standalone HTML files demonstrating each use case. View source to see the code.</p>
      <table>
        <thead><tr><th>Example</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td><a href="examples/minimal.html">Minimal</a></td><td>One script tag — auto-creates a download button</td></tr>
          <tr><td><a href="examples/custom-button.html">Custom button</a></td><td>Bind to your own styled button/link</td></tr>
          <tr><td><a href="examples/url-only.html">URL only</a></td><td>Get the download URL programmatically — no DOM changes</td></tr>
          <tr><td><a href="examples/fallback-list.html">All assets list</a></td><td>Show every downloadable file from the release</td></tr>
          <tr><td><a href="examples/auto-redirect.html">Auto-redirect</a></td><td>Automatically start the download on page load</td></tr>
          <tr><td><a href="examples/platform-selector.html">Platform selector</a></td><td>Dropdown menu grouped by OS with all available assets</td></tr>
        </tbody>
      </table>
      <p style="font-size:13px; color:var(--text-muted)">Each example uses <code>rustdesk/rustdesk</code> as a demo repo. The <a href="#configurator">configurator</a> above generates ready-to-use snippets for any repo.</p>
    </section>

    <!-- How it works -->
    <section>
      <h2>How It Works</h2>
      <ul>
        <li>Detects visitor's OS (macOS, Windows, Linux, iOS, Android) and architecture via <code>navigator.userAgentData</code> with UA string fallback</li>
        <li>Fetches latest release from GitHub API (cached 5 min in <code>sessionStorage</code>)</li>
        <li>Matches assets against platform-specific regex patterns</li>
        <li>If matched: links to the binary. If not: shows configurable fallback text</li>
        <li>Filters out <code>.sha256</code>, <code>.sig</code>, <code>.blockmap</code> automatically</li>
        <li>Button uses CSS custom properties (<code>--dl-bg</code>, <code>--dl-color</code>, <code>--dl-radius</code>) for easy theming</li>
      </ul>
    </section>

    <footer>
      <a href="https://github.com/danielraffel/download-latest">MIT License</a> · <a href="https://github.com/danielraffel/download-latest">GitHub</a>
    </footer>

  </div>

  <script src="download-latest.js"></script>
  <script src="configurator.js"></script>
  <script>
    // Add copy buttons to all <pre> blocks that don't already have one
    document.querySelectorAll('pre').forEach(function (pre) {
      if (pre.querySelector('.copy-btn')) return;
      var btn = document.createElement('button');
      btn.className = 'copy-btn';
      btn.title = 'Copy to clipboard';
      btn.innerHTML =
        '<svg class="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>' +
        '<svg class="icon-check" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>';
      btn.addEventListener('click', function () {
        var text = pre.textContent;
        navigator.clipboard.writeText(text).then(function () {
          var ic = btn.querySelector('.icon-copy');
          var ik = btn.querySelector('.icon-check');
          ic.style.display = 'none';
          ik.style.display = '';
          btn.classList.add('copied');
          setTimeout(function () {
            ic.style.display = '';
            ik.style.display = 'none';
            btn.classList.remove('copied');
          }, 2000);
        });
      });
      pre.appendChild(btn);
    });
  </script>
</body>
</html>
